(this["webpackJsonpcheck-it-out"]=this["webpackJsonpcheck-it-out"]||[]).push([[0],{20:function(e,t,a){e.exports=a(48)},25:function(e,t,a){},26:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(19),l=a.n(s),i=(a(25),a(2)),c=a(3),r=a(5),d=a(4),u=a(6),m=(a(26),a(7)),h=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(r.a)(this,Object(d.a)(t).call(this))).state={postCode:"M33"},e.showDropdownMenu=e.showDropdownMenu.bind(Object(m.a)(e)),e.hideDropdownMenu=e.hideDropdownMenu.bind(Object(m.a)(e)),e.handleDropdownChange=e.handleDropdownChange.bind(Object(m.a)(e)),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"showDropdownMenu",value:function(e){var t=this;e.preventDefault(),this.setState({displayMenu:!0},(function(){document.addEventListener("click",t.hideDropdownMenu)}))}},{key:"handleDropdownChange",value:function(e){this.setState({selecteditem:e.target.value}),this.props.getStatusFunc(e.target.value,this.state.postCode)}},{key:"hideDropdownMenu",value:function(){var e=this;this.setState({displayMenu:!1},(function(){document.removeEventListener("click",e.hideDropdownMenu)}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"button",onClick:this.showDropdownMenu}),o.a.createElement("select",{name:this.props.label,id:"dropdown",onChange:this.handleDropdownChange},o.a.createElement("option",null," CHOOSE AN ITEM "),this.props.itemList.map((function(e){return o.a.createElement("option",{value:e.name,id:e.id}," ",e.name," ")}))))}}]),t}(o.a.Component),p=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(e){a.props.updateStatusFunc(a.props.storeId,e)},a.disableButton=function(e){return!1!==a.props.disableButton&&(("Lots"!==e||"L"!==a.props.status)&&(("Some"!==e||"S"!==a.props.status)&&("None"!==e||"N"!==a.props.status)))},a.state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-lg-3"},o.a.createElement("h5",null," ",this.props.store,"  ")),o.a.createElement("div",{className:"col-4 col-lg-2"},this.disableButton("None")?o.a.createElement("button",{className:"btn1 btn-outline-danger btn-block",disabled:!0,onClick:this.handleClick},"None"):o.a.createElement("button",{className:"btn1 btn-danger btn-block",disabled:this.props.disableButton,onClick:this.handleClick.bind(this,"N")},"None")),o.a.createElement("div",{className:"col-4 col-lg-2"},this.disableButton("Some")?o.a.createElement("button",{className:"btn2 btn-outline-warning btn-block",disabled:!0,onClick:this.handleClick},"Some"):o.a.createElement("button",{className:"btn2 btn-warning btn-block",disabled:this.props.disableButton,onClick:this.handleClick.bind(this,"S")},"Some")),o.a.createElement("div",{className:"col-4 col-lg-2"},this.disableButton("Lots")?o.a.createElement("button",{className:"btn3 btn-outline-success btn-block",disabled:!0,onClick:this.handleClick},"Lots"):o.a.createElement("button",{className:"btn3 btn-success btn-block",disabled:this.props.disableButton,onClick:this.handleClick.bind(this,"L")},"Lots")),o.a.createElement("div",{className:"col-12 col-lg-3"},o.a.createElement("p",{align:"left"}," Upd ",this.props.date)))}}]),t}(o.a.Component),b=(a(27),a(8)),v=a.n(b),E=a(9),g=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(r.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={disableButton:!0,itemList:[],itemID:"",itemName:"",postCode:"M33",storeList:[]},a.getStatus=function(e,t){var n="";a.state.itemList.map((function(t){t.name===e&&(n=t.id)})),v.a.get("https://m5xyp9jfmk.execute-api.eu-west-2.amazonaws.com/dev/itemstatus/"+n+"/"+t).then((function(e){console.log(e.data.itemData),a.setState({storeList:e.data.itemData})})).catch((function(e){console.log(e)})),a.setState({itemId:n,itemName:e,disableButton:!0})},a.updateStatus=function(e,t){console.log("IN UPDATE STATUS");var n=E().format("YYYY-MM-DD HH:mm:ss"),o=E().format("DD MMM HH:mm");v.a.put("https://m5xyp9jfmk.execute-api.eu-west-2.amazonaws.com/dev/updatequantity/"+a.state.postCode+"/"+e+"/"+a.state.itemId+"/"+t+"/"+n).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),a.setState({disableButton:!0});var s=a.state.storeList.slice();s.map((function(a){a.id===e&&(console.log("setting status"),a.quantity=t,a.dateformatted=o)})),a.setState({storeList:s})},a.editItems=function(){a.setState({disableButton:!1})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get("https://m5xyp9jfmk.execute-api.eu-west-2.amazonaws.com/dev/itemname").then((function(t){console.log(t.data.itemData),e.setState({itemList:t.data.itemData})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"AppHeader"},o.a.createElement("h1",null,"CheK it Out "),o.a.createElement("div",{className:"row paddingabove"},o.a.createElement("div",{className:"col-0 col-lg-12"},o.a.createElement("h5",null,"Easliy locate essential items in M33"),o.a.createElement("h5",null,"Click the edit button to update the information"),o.a.createElement("h5",null,"To add items to the list drop me an email"))),o.a.createElement("div",{className:"Container"},o.a.createElement(h,{itemList:this.state.itemList,label:"Item List",key:"1",getStatusFunc:this.getStatus}),o.a.createElement("br",null),o.a.createElement("br",null)),o.a.createElement("div",{className:"Details"},o.a.createElement("div",{className:"row paddingabove"},o.a.createElement("div",{className:"col-12 col-lg-3"}),o.a.createElement("div",{className:"col-12 col-lg-6 paddingabove border border-dark border-thick"},o.a.createElement("br",null),o.a.createElement("ol",{className:"list-group "},this.state.storeList.map((function(t){return o.a.createElement(p,{store:t.name,storeId:t.id,status:t.quantity,date:t.dateformatted,itemName:e.state.itemName,postCode:e.state.postCode,disableButton:e.state.disableButton,updateStatusFunc:e.updateStatus,getStatusFunc:e.getStatus,key:t.id})})))),o.a.createElement("div",{className:"col-12 col-lg-3"})),o.a.createElement("br",null),o.a.createElement("div",{className:"row "},o.a.createElement("div",{className:"col-12 col-lg-12 "},o.a.createElement("button",null,o.a.createElement("i",{className:"fa fa-edit fa-4x",onClick:this.editItems})))),o.a.createElement("br",null),o.a.createElement("div",{className:"row "},o.a.createElement("div",{className:"col-12 col-lg-12 "},o.a.createElement("p",null," email address goes here")))))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.c411d33d.chunk.js.map